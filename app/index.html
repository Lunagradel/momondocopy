<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>FlightSearch</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300" rel="stylesheet">
    <script src="https://use.fontawesome.com/bce7f6c050.js"></script>
    <script src="../node_modules/sweetalert/dist/sweetalert.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../node_modules/sweetalert/dist/sweetalert.css">
  </head>
  <body>
    <div id="search-bar">
      <div class="login">
        <button class='btnLogout regular-button'>Logout</button>
        <button data-canvas="login" class="btnLogin regular-button">Login</button>
        <button data-canvas="register" class="btnRegister regular-button">Register</button>
        <button data-canvas="account" class='btnUser regular-button'>Account</button>
      </div>
      <form class="" action="index.html" method="post">
        <div class="">
          <input class="from" type="text" name="from" value="Copenhagen" maxlength="10">
          <i class="fa fa-arrows-h" aria-hidden="true"></i>
          <input class="to" type="text" name="to" value="Berlin" maxlength="10">
          <i class="fa fa-calendar" aria-hidden="true"></i>
          <input type="date" name="fromDate" value="">
          <i class="fa fa-calendar" aria-hidden="true"></i>
          <input type="date" name="toDate" value="">
          <i class="fa fa-users" aria-hidden="true"></i>
          <input type="number" class="passengers" name="passengers" value="1">
        </div>
        <button class="regular-button" type="button" name="submit" id="goSearch"><i class="fa fa-paper-plane fa-2x" aria-hidden="true"></i></button>
      </form>
    </div>
    <div class="content">
      <!-- REGISTER IN  -->
      <section id="register" class="canvas">
        <div class="card box-overlay">
          <h3>REGISTER</h3>
            <form class="register" action="index.html" method="post">
              First name:</br>
              <input type="text" name="firstName" value="" placeholder="John">
              Last Name:</br>
              <input type="text" name="lastName" value="" placeholder="Doe">
              Email:</br>
              <input type="email" name="mail" value="" placeholder="example@example.com">
              Password:</br>
              <input type="password" name="Password" value="">
              Birthdate:</br>
              <input type="date" name="Bday" value="">
              <div class="gender">
                <input type="radio" class="genderInput" name="gender" value="male" checked> Male
                <input type="radio" class="genderInput" name="gender" value="female"> Female
              </div>
              Passport Number:</br>
              <input type="number" name="Passport" value="" placeholder="">
              Phone Number: </br>
              <input type="tel" name="Phone" value="" placeholder="Phone Nr">
              Company Name: </br>
              <input type="text" name="Company" value="" placeholder="Company Name">
              <div id="creditCard">
                Credit Card Number:</br>
                <input type="number" name="cardNr" value="">
                Expiration Year:</br>
                <input type="number" name="exYear" value="">
                Expiration Month:</br>
                <input type="number" name="exMnth" value="">
                Cardholder Name:</br>
                <input type="text" name="cardHolder" value="" placeholder="John Doe">
              </div>
              <div type="button" id="submit" class="regular-button" name="submit">Register</div>
            </form>
        </div>
      </section>
      <!-- REGISTER OUT -->
      <!-- LOGIN IN -->
    <section id="LoginContainer" class="canvas">
        <div class="card box-overlay">
          <h3>LOGIN</h3>
          <form class="login">
            Email:
            <input type="email" name="loginMail" value="" placeholder="John@doe.com">
            Password:
            <input type="Password" name="loginPass" value="">
            <div type="button" id="login" class="regular-button" value="login" name="button">login</div>
          </form>
        </div>
      </section>
      <!-- LOGIN OUT -->
      <!-- ACCOUNT IN -->
      <section id="accountContainer" class="canvas">
        <div class="card box-overlay">
        </div>
      </section class="canvas">
      <!-- ACCOUNT OUT -->
      <div class="previousFlights">
        <div class="prevFlight card" data-flight-destination="xx">
          <div class="destinations">
            <span class="prev-from">AMS</span> -> <span class="prev-to">CPH</span>
          </div>
          <div class="previous-search">
            <input type="date">
            <input type="date">
            <button class="regular-button" type="button" name="submit">Search</button>
          </div>
        </div>
        <div class="prevFlight card" data-flight-destination="xx">
          <div class="destinations">BRN -> LND</div>
          <div class="previous-search">
            <input type="date">
            <input type="date">
            <button class="regular-button" type="button" name="submit">Search</button>
          </div>
        </div>
      </div>
      	<div class="search-result hidden">
      		<div class="results">
      			<div class="filters">
      				<div class="filter card" id="quick"><p>Quickest</p></div>
      				<div class="filter" id="cheap"><p>Cheapest</p></div>
      				<div class="filter card" id="best"><p>Best</p></div>
      			</div>
            <div class="search-card card">
              <div class="result-box">
        				<div class="flight-info">
        					<div class="info">
        						<p>11:45</p>
        						<p class="result-from">CPH</p>
        						<div class="line"></div>
        						<p class="result-to">TLX</p>
        						<p>12:50</p>
        					</div>
        					<div class="info">
        						<p>08:00</p>
        						<p class="result-to">TXL</p>
        						<div class="line"></div>
        						<p class="result-from">CPH</p>
        						<p>09:05</p>
        					</div>
        				</div>

        				<div class="price-box">
        					<p>40 EUR</p>
        					<button class="regular-button">BOOK NOW</button>
        				</div>
        			</div>
        			<div class="further-info-button">
        						<p>Further travel suggestions</p>
        					</div>
        			<div class="further-info-box">
        				<div class="options">
        					<p>Public transport</p>
        					<div class="transport-info">
        						<p>TXL</p>
        						<div></div>
        						<p>your adress..</p>
        					</div>
        				</div>
        				<div class="options">
        					<p>Taxi</p>
        					<p>Approximately 20 min by taxi</p>
        				</div>
        			</div>
            </div>


      			<div class="result-box">
      				<div class="flight-info">
      					<div class="info">
      						<p>13:45</p>
      						<p class="result-from">CPH</p>
      						<div class="line"></div>
      						<p class="result-to">TLX</p>
      						<p>14:50</p>
      					</div>
      					<div class="info">
      						<p>10:00</p>
      						<p class="result-to">TXL</p>
      						<div class="line"></div>
      						<p class="result-from">CPH</p>
      						<p>11:05</p>
      					</div>
      				</div>
      				<div class="price-box">
      					<p>42 EUR</p>
      					<button class="regular-button">BOOK NOW</button>
      				</div>
      			</div>
      			<div class="further-info-button">
      						<p>Further travel suggestions</p>
      					</div>
      			<div class="further-info-box">
      				<div class="options">
      					<p>Public transport</p>
      					<div class="transport-info">
      						<p>TXL</p>
      						<div></div>
      						<p>your adress..</p>
      					</div>
      				</div>
      				<div class="options">
      					<p>Taxi</p>
      					<p>Approximately 20 min by taxi</p>
      				</div>
      			</div>
      		</div>
      	</div>
    </div>
    <footer>
      <ul>
        <li>Here</li>
        <li>Is</li>
        <li>The</li>
        <li>Footer</li>
        <li>....</li>
      </ul>
    </footer>
    <script>

      $(document).ready(function(){
        var lastSearch = JSON.parse(localStorage.lastSearch);
        $(".prev-from").empty();
        $(".prev-from").append(lastSearch.from);

        $(".prev-to").empty();
        $(".prev-to").append(lastSearch.to);
      });

      $(".price-box > button").click(function(event) {
        event.preventDefault();
        window.location.href = 'payment.html';
      });

      var bSearched = false;

      $("#goSearch").click(function (event) {
        event.preventDefault();

        var from = $(".from").val().toUpperCase();
        var to = $(".to").val().toUpperCase();

        if (from != "" && to != ""){
          $(".search-result").removeClass("hidden");
          $(".previousFlights").addClass("hidden");

          $(".result-from").empty();
          $(".result-from").append(from);

          $(".result-to").empty();
          $(".result-to").append(to);

          localStorage.removeItem(lastSearch);

          var lastSearch = {"from":from, "to":to};
          localSearch = JSON.stringify(lastSearch);
          localStorage.lastSearch = localSearch;

          var userjson =  {"user": {
                          		"credentials": {
                          			"firstName": "bob",
                          			"lastName": "Egon",
                          			"email": "john@doe.com",
                          			"bday": "1999-20-12",
                          			"title": "Ms",
                          			"PassNr": "983235523",
                          			"phone": "123213",
                          			"CompanyName": "Limited Incorporated A/S",
                          			"creditCard": {
                          				"cardNr": 89142894712,
                          				"exMnth": 12,
                          				"exDay": 23,
                          				"cardHolder": "Bob Egon"
                                  }
  		                           }
  	                            }
                              }

          localUser = JSON.stringify(userjson)
          localStorage.user = localUser;
        }
    });
    </script>

    <script src="js/pop-in-box.js" charset="utf-8"></script>
    <script src="js/userFunc.js" charset="utf-8"></script>
  </body>
</html>
