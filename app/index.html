<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>FlightSearch</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300" rel="stylesheet">
  </head>
  <body>
    <div id="search-bar">
      <div class="login">
        <button class="btnLogin"href="">Login</button>
        <button class="btnRegister"href="">Register</button>
      </div>
      <form class="" action="index.html" method="post">
        <div class="">
          <input class="from" type="text" name="from" value="" maxlength="10">
          <input class="to" type="text" name="to" value="" maxlength="10">
          <input type="date" name="fromDate" value="">
          <input type="date" name="toDate" value="">
          <input type="number" name="passengers" value="">
        </div>
        <button type="button" name="submit" id="goSearch">Go!</button>
      </form>
    </div>
    <div class="content">
      <!-- REGISTER IN  -->
      <div id="register" class="hidden">
        <h3>REGISTER</h3>
          <form class="register" action="index.html" method="post">
            First name:</br>
            <input type="text" name="firstName" value="" placeholder="John">
            Last Name:</br>
            <input type="text" name="lastName" value="" placeholder="Doe">
            Email:</br>
            <input type="email" name="mail" value="" placeholder="example@example.com">
            Password:</br>
            <input type="password" name="Password" value="">
            Birthdate:</br>
            <input type="date" name="Bday" value="">
            <div class="gender">
              <input type="radio" class="genderInput" name="gender" value="male" checked> Male
              <input type="radio" class="genderInput" name="gender" value="female"> Female
            </div>
            Passport Number:</br>
            <input type="number" name="Passport" value="" placeholder="">
            Phone Number: </br>
            <input type="tel" name="Phone" value="" placeholder="Phone Nr">
            Company Name: </br>
            <input type="text" name="Company" value="" placeholder="Company Name">

            <div id="creditCard">
              Credit Card Number:</br>
              <input type="number" name="cardNr" value="">
              Expiration Year:</br>
              <input type="number" name="exYear" value="">
              Expiration Month:</br>
              <input type="number" name="exMnth" value="">
              Cardholder Name:</br>
              <input type="text" name="cardHolder" value="" placeholder="John Doe">
            </div>
            <button type="button" id="submit" name="submit">Register</button>
          </form>
      </div>
      <!-- REGISTER OUT -->
      <!-- LOGIN IN -->
      <div id="LoginContainer" class="hidden">
        <h3>LOGIN</h3>
        <form class="login">
          Email:
          <input type="email" name="loginMail" value="" placeholder="John@doe.com">
          Password:
          <input type="Password" name="loginPass" value="">
          <button type="button" id="login" value="login" name="button">login</button>
        </form>
      </div>
      <!-- LOGIN OUT -->
      <div class="previousFlights">
        <div class="prevFlight card" data-flight-destination="xx">
          <div class="destinations">
            <span class="prev-from">AMS</span> -> <span class="prev-to">CPH</span>
          </div>
          <div>
            <input type="text">
            <input type="text">
            <button type="button" name="submit">Go!</button>
          </div>
        </div>
        <div class="prevFlight card" data-flight-destination="xx">
          <div class="destinations">BRN -> LND</div>
          <div>
            <input type="text">
            <input type="text">
            <button type="button" name="submit">Go!</button>
          </div>
        </div>
      </div>
      	<div class="search-result hidden">
      		<div class="results">
      			<div class="filters card">
      				<div class="filter" id="quick"><p>Quickest</p></div>
      				<div class="filter" id="cheap"><p>Cheapest</p></div>
      				<div class="filter" id="best"><p>Best</p></div>
      			</div>
            <div class="search-card card">
              <div class="result-box">
        				<div class="flight-info">
        					<div class="info">
        						<p>11:45</p>
        						<p class="result-from">CPH</p>
        						<div class="line"></div>
        						<p class="result-to">TLX</p>
        						<p>12:50</p>
        					</div>
        					<div class="info">
        						<p>08:00</p>
        						<p class="result-to">TXL</p>
        						<div class="line"></div>
        						<p class="result-from">CPH</p>
        						<p>09:05</p>
        					</div>
        				</div>

        				<div class="price-box">
        					<p>40 EUR</p>
        					<button>BOOK NOW</button>
        				</div>
        			</div>
        			<div class="further-info-button">
        						<p>Further travel suggestions</p>
        					</div>
        			<div class="further-info-box">
        				<div class="options">
        					<p>Public transport</p>
        					<div class="transport-info">
        						<p>TXL</p>
        						<div></div>
        						<p>your adress..</p>
        					</div>
        				</div>
        				<div class="options">
        					<p>Taxi</p>
        					<p>Approximately 20 min by taxi</p>
        				</div>
        			</div>
            </div>


      			<div class="result-box">
      				<div class="flight-info">
      					<div class="info">
      						<p>13:45</p>
      						<p class="result-from">CPH</p>
      						<div class="line"></div>
      						<p class="result-to">TLX</p>
      						<p>14:50</p>
      					</div>
      					<div class="info">
      						<p>10:00</p>
      						<p class="result-to">TXL</p>
      						<div class="line"></div>
      						<p class="result-from">CPH</p>
      						<p>11:05</p>
      					</div>
      				</div>
      				<div class="price-box">
      					<p>42 EUR</p>
      					<button>BOOK NOW</button>
      				</div>
      			</div>
      			<div class="further-info-button">
      						<p>Further travel suggestions</p>
      					</div>
      			<div class="further-info-box">
      				<div class="options">
      					<p>Public transport</p>
      					<div class="transport-info">
      						<p>TXL</p>
      						<div></div>
      						<p>your adress..</p>
      					</div>
      				</div>
      				<div class="options">
      					<p>Taxi</p>
      					<p>Approximately 20 min by taxi</p>
      				</div>
      			</div>
      		</div>
      	</div>
    </div>
    <footer>
      <ul>
        <li>Here</li>
        <li>Is</li>
        <li>The</li>
        <li>Footer</li>
        <li>....</li>
      </ul>
    </footer>
    <script>

      $(document).ready(function(){
        var lastSearch = JSON.parse(localStorage.lastSearch);
        $(".prev-from").empty();
        $(".prev-from").append(lastSearch.from);

        $(".prev-to").empty();
        $(".prev-to").append(lastSearch.to);
      });

      $(".price-box > button").click(function(event) {
        event.preventDefault();
        window.location.href = 'payment.html';
      });

      var bSearched = false;

      $("#goSearch").click(function (event) {
        event.preventDefault();

        var from = $(".from").val().toUpperCase();
        var to = $(".to").val().toUpperCase();

        if (from != "" && to != ""){
          $(".search-result").removeClass("hidden");
          $(".previousFlights").addClass("hidden");

          $(".result-from").empty();
          $(".result-from").append(from);

          $(".result-to").empty();
          $(".result-to").append(to);

          localStorage.removeItem(lastSearch);

          var lastSearch = {"from":from, "to":to};
          localSearch = JSON.stringify(lastSearch);
          localStorage.lastSearch = localSearch;

          var userjson =  {"user": {
                          		"credentials": {
                          			"firstName": "bob",
                          			"lastName": "Egon",
                          			"email": "john@doe.com",
                          			"bday": "1999-20-12",
                          			"title": "Ms",
                          			"PassNr": "983235523",
                          			"phone": "123213",
                          			"CompanyName": "Limited Incorporated A/S",
                          			"creditCard": {
                          				"cardNr": 89142894712,
                          				"exMnth": 12,
                          				"exDay": 23,
                          				"cardHolder": "Bob Egon"
                                  }
  		                           }
  	                            }
                              }

          localUser = JSON.stringify(userjson)
          localStorage.user = localUser;
        }


    });

    // SHOW HIDE IN

    $(".btnRegister").click(function () {
      $("#register").toggleClass("hidden");
      if (!$("#LoginContainer").hasClass("hidden")) {
        $("#LoginContainer").toggleClass("hidden");
      }
    });

    $(".btnLogin").click(function () {
      $("#LoginContainer").toggleClass("hidden");
      if (!$("#register").hasClass("hidden")) {
        $("#register").toggleClass("hidden");
      }
    });

    // SHOW HIDE OUT
    </script>
    <script src="js/userFunc.js" charset="utf-8"></script>
  </body>
</html>
